<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas AR Neighborhood</title>
<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/3.4.7/aframe/build/aframe-ar.js'></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/3.4.7/three.js/build/ar-threex-location-only.js'></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="splash-screen">
        <div class="splash-content">
            <h1>ðŸŽ„ Christmas AR Neighborhood ðŸŽ„</h1>
            <p>Experience magical Christmas decorations in augmented reality!</p>
            <button id="start-btn">Start AR Experience</button>
        
            <div>
                <p>Test Mode</p>
            <input type="checkbox" id="testCheckbox"/>
            </div>
            <div class="instructions">
                <h3>Instructions:</h3>
                <ul>
                    <li>Allow camera and location permissions</li>
                    <li>Point your camera around to see decorations</li>
                    <li>Walk around your neighborhood to discover more!</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="loading-screen" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <p>Loading AR Experience...</p>
            <p class="small">Please allow camera and location permissions</p>
        </div>
    </div>

    <a-scene
        id="ar-scene"
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
        renderer="logarithmicDepthBuffer: true; precision: medium;"
        embedded
        gesture-detector
        style="display: none;">

        <a-camera gps-camera rotation-reader look-controls-enabled="false">
            <!-- Info panel anchored to camera (bottom right corner) -->
            <a-entity id="info-text"
                      position="0.25 -0.2 -0.5"
                      text="value: Starting...;
                            color: #ffff00;
                            align: right;
                            width: 1;
                            wrapCount: 35;
                            font: roboto;
                            shader: msdf;"
                      visible="true">
            </a-entity>
        </a-camera>

        <!-- Decorations will be added dynamically by JavaScript -->
    </a-scene>

    <!-- HTML overlay for status (backup) -->
    <div id="status-overlay" style="display: none; position: fixed; top: 20px; right: 20px; background: rgba(255,0,0,0.9); color: #ffffff; padding: 20px; border-radius: 10px; font-family: monospace; font-size: 16px; z-index: 10000; max-width: 350px; text-align: right; line-height: 1.8; border: 3px solid yellow;">
        Starting...
    </div>

    <!-- Debug overlay (always visible when AR starts) -->
    <div id="debug-overlay" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,255,0,0.9); color: #000; padding: 30px; border-radius: 10px; font-family: Arial; font-size: 20px; z-index: 100000; text-align: center; border: 5px solid red;">
        DEBUG INFO WILL APPEAR HERE
    </div>

    <script src="decorations.js"></script>
    <script src="app.js"></script>

</body>
</html>
