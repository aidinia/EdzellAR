<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>AR.js Location-Based Cubes</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            z-index: 1000;
            max-width: 300px;
        }
        #info h3 {
            margin: 0 0 10px 0;
        }
        #location {
            font-size: 12px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="info">
        <h3>AR Cubes</h3>
        <p>Walk around to see cubes at specific GPS locations</p>
        <div id="location">Getting location...</div>
    </div>

    <a-scene
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
        renderer="logarithmicDepthBuffer: true; precision: medium;"
        embedded
        gesture-detector>

        <a-camera gps-projected-camera rotation-reader></a-camera>

        <!-- Cube 1: lat: 56.8492032, lon: -2.6443776 -->
        <a-box
            gps-projected-entity-place="latitude: 56.8492032; longitude: -2.6443776"
            material="color: #FF0000"
            scale="5 5 5"
            animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
        </a-box>

        <!-- Cube 2: lat: 56.8492042, lon: -2.6443776 -->
        <a-box
            gps-projected-entity-place="latitude: 56.8492042; longitude: -2.6443776"
            material="color: #00FF00"
            scale="5 5 5"
            animation="property: rotation; to: 360 0 0; loop: true; dur: 3000">
        </a-box>

        <!-- Cube 3: lat: 56.8492022, lon: -2.6443776 -->
        <a-box
            gps-projected-entity-place="latitude: 56.8492022; longitude: -2.6443776"
            material="color: #0000FF"
            scale="5 5 5"
            animation="property: rotation; to: 0 0 360; loop: true; dur: 3000">
        </a-box>

        <!-- Cube 4: lat: 56.8492032, lon: -2.6443766 -->
        <a-box
            gps-projected-entity-place="latitude: 56.8492032; longitude: -2.6443766"
            material="color: #FFFF00"
            scale="5 5 5"
            animation="property: rotation; to: 360 360 0; loop: true; dur: 3000">
        </a-box>
    </a-scene>

    <script>
        // Display current location
        if (navigator.geolocation) {
            navigator.geolocation.watchPosition(
                (position) => {
                    const lat = position.coords.latitude.toFixed(7);
                    const lon = position.coords.longitude.toFixed(7);
                    const accuracy = position.coords.accuracy.toFixed(2);
                    document.getElementById('location').innerHTML = `
                        Your Location:<br>
                        Lat: ${lat}<br>
                        Lon: ${lon}<br>
                        Accuracy: ${accuracy}m
                    `;
                },
                (error) => {
                    document.getElementById('location').innerHTML =
                        'Location error: ' + error.message;
                },
                {
                    enableHighAccuracy: true,
                    maximumAge: 0,
                    timeout: 27000
                }
            );
        }

        // Log when AR scene is ready
        window.addEventListener('load', () => {
            console.log('AR.js Location-Based loaded');
            console.log('Cube locations:');
            console.log('1. Red Cube: 56.8492032, -2.6443776');
            console.log('2. Green Cube: 56.8492042, -2.6443776');
            console.log('3. Blue Cube: 56.8492022, -2.6443776');
            console.log('4. Yellow Cube: 56.8492032, -2.6443766');
        });
    </script>
</body>
</html>
